# Lune ðŸš€

Lune is an AI-powered platform that enables users to create full-stack websites through simple prompts. The application is built with Next.js 15, tRPC, Neon's serverless driver, Inngest AgentKit, E2B Sandboxes, Prisma, TanStack Query and Clerk. <br> Deployed at: [lune-ashen.vercel.app](https://lune-ashen.vercel.app/).

## Features

- **Next.js 15 + React 19:** Advanced server-side rendering (SSR) and React Server Components to ensure the application loads incredible fast and provides a smooth user experience.
- **tRPC for full-stack type safety:** Eliminate runtime bugs by ensuring the backend and frontend are perfectly in sync with full-stack type safety, making development more reliable.
- **Inngest background jobs:** Process heavy and long-running tasks from AI Agents in the background, keeping the main application fast and responsive.
- **Inngest agent toolkit:** Advanced AI orchestration, designing and managing multi-agents and complex AI workflows with a dedicated toolkit.
- **User registration and login:** Users can create an account and login to the website with Clerk.
- **Clerk billing:** Robust billing system with a polished user interface, enabling to manage and monetize different subscription tiers.
- **AI-powered component and app generation:** users can create AI-powered full-stack websites and components, and access to the code generated by AI Agents.
- **Instant collaboration:** Share a live, real-time preview of your project with a unique URL, allowing others to see your changes as you make them without needing to deploy.
- **Secure code execution:** Safely run untrusted or AI-generated code in isolated, secure cloud environments, protecting your main application from potential risks.
- **Credit system with usage tracking:** Credit-based system to track and manage how users use the services, which is perfect for usage-based pricing models.
- **Projects Dashboard:** users can see and access their previous projects on the home page.
- **Responsive design**: the website is built with a beautiful mobile first design, which also works on larger desktop monitors.

## Setup Locally

### Environment Requirements

- **Node.js** >= 20
- **npm/pnpm/yarn/bun** package manager
- **PostgreSQL** >= 17

### Installation

```bash
# Clone the repository
git clone https://github.com/lucas-ellwanger/lune.git
cd lune

# Install dependencies (npm recommended)
npm install
# Or use pnpm
pnpm install
```

### Environment Configuration

1. **Copy the environment variable template**

```bash
cp .env.example .env.local
```

2. **Configure the necessary environment variables**

- Create a [Neon](http://neon.tech/) account, create a new database and add the `DATABASE_URL` to the `.env.local` file.
- Setup [Clerk](https://clerk.com), add the `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY` and `CLERK_SECRET_KEY` to the `.env.local` file.
- Setup [OpenAI](https://platform.openai.com/), add the `OPENAI_API_KEY` to the `.env.local` file.
- Setup [E2B](https://e2b.dev/), create a new project, publish the template, and add the `E2B_API_KEY` to the `.env.local` file.

```env
# NeonDB
DATABASE_URL="postgresql://user:password@localhost:5432/lune"

# APP Url
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# OpenAI
OPENAI_API_KEY="sk-proj-xxx"

# E2B
E2B_API_KEY="e2b_xxx"

# Clerk
CLERK_SECRET_KEY="sk_test_xxx"
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_test_xxx"
NEXT_PUBLIC_CLERK_SIGN_IN_URL="/sign-in"
NEXT_PUBLIC_CLERK_SIGN_UP_URL="/sign-up"
NEXT_PUBLIC_CLERK_SIGN_IN_FALLBACK_REDIRECT_URL="/"
NEXT_PUBLIC_CLERK_SIGN_UP_FALLBACK_REDIRECT_URL="/"
```

### Database Setup

```bash
# Push the schema to the database
npm run db:push
```

### Start the Development Server

```bash
# Start the Inngest local development server
npx inngest-cli@latest dev

# Start the local development server
npm run dev

# Prisma Studio database management (optional)
npx prisma studio
```

Access the application:

- **Frontend Application**: http://localhost:3000
- **Inngest Dev Browser Interface**: http://localhost:8288
- **Database Management**: http://localhost:5555 (Prisma Studio)

## Production Deployment

```bash
# Build the production version
npm run build

# Start the production server
npm run start

# Or deploy to Vercel (recommended)
npx vercel --prod
```

## Tech Stack

Next.js, Neon's serverless driver (PostgreSQL), Prisma, Inngest, E2B, Clerk, TanStack Query, Tailwind CSS. <br> _Shadcn/ui is used for the components and the CSS variables._

Deployed on Vercel and Neon.

## License

[MIT](https://choosealicense.com/licenses/mit/)
